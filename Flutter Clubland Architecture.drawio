<mxfile host="65bd71144e">
    <diagram name="Solution overview" id="p8eHNkJ1n102PU3bbMqg">
        <mxGraphModel dx="359" dy="776" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="21" value="&lt;h3&gt;&lt;span style=&quot;&quot;&gt;Business Logic&lt;/span&gt;&lt;/h3&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;horizontal=1;labelBackgroundColor=#FFCCCC;" parent="1" vertex="1">
                    <mxGeometry x="440" y="110" width="440" height="400" as="geometry"/>
                </mxCell>
                <mxCell id="SWb7_aFT_cGSgDYGJpiC-1" value="Member" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
                    <mxGeometry x="250" y="180" width="30" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="SWb7_aFT_cGSgDYGJpiC-5" value="http:80&lt;div&gt;https:443&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="SWb7_aFT_cGSgDYGJpiC-2" target="SWb7_aFT_cGSgDYGJpiC-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="SWb7_aFT_cGSgDYGJpiC-2" value="Flutter app" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
                    <mxGeometry x="300" y="180" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="gRPC" style="edgeStyle=none;html=1;" parent="1" source="SWb7_aFT_cGSgDYGJpiC-3" target="5" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="8" value="gRPC" style="edgeStyle=none;html=1;" parent="1" source="SWb7_aFT_cGSgDYGJpiC-3" target="7" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="gRPC" style="edgeStyle=none;html=1;" parent="1" source="SWb7_aFT_cGSgDYGJpiC-3" target="9" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="gRPC" style="edgeStyle=none;html=1;" parent="1" source="SWb7_aFT_cGSgDYGJpiC-3" target="11" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="gRPC" style="edgeStyle=none;html=1;" parent="1" source="SWb7_aFT_cGSgDYGJpiC-3" target="13" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="gRPC" style="edgeStyle=none;html=1;" parent="1" source="SWb7_aFT_cGSgDYGJpiC-3" target="16" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="19" value="gRPC" style="edgeStyle=none;html=1;" parent="1" source="SWb7_aFT_cGSgDYGJpiC-3" target="18" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="SWb7_aFT_cGSgDYGJpiC-3" value="API Gateway&lt;div&gt;GraphQL&lt;/div&gt;&lt;div&gt;:8080&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
                    <mxGeometry x="465" y="260" width="85" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="SWb7_aFT_cGSgDYGJpiC-6" value="http:80&lt;div&gt;https:443&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="SWb7_aFT_cGSgDYGJpiC-4" target="SWb7_aFT_cGSgDYGJpiC-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="SWb7_aFT_cGSgDYGJpiC-4" value="Web app" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="300" y="390" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="2" value="" style="image;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;image=img/lib/allied_telesis/computer_and_terminals/Smartphone.svg;" parent="1" vertex="1">
                    <mxGeometry x="390" y="188.4" width="19.8" height="43.199999999999996" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="" style="image;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;image=img/lib/allied_telesis/computer_and_terminals/Personal_Computer.svg;" parent="1" vertex="1">
                    <mxGeometry x="364.2" y="399.1" width="45.6" height="61.800000000000004" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="Admin" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
                    <mxGeometry x="250" y="410" width="30" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="Authentication +&lt;div&gt;Authorization svc&lt;/div&gt;&lt;div&gt;:50051&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="600" y="120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="7" value="Governance svc&lt;div&gt;:50054&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="Notification svc&lt;div&gt;:50055&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="600" y="430" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="Analytics svc&lt;div&gt;:50056&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="430" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="Booking svc&lt;div&gt;:50057&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="353.5" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="Member svc&lt;div&gt;:50052&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="280" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="Blockchain svc&lt;div&gt;:50053&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="200" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="23" value="&lt;h3&gt;&lt;span style=&quot;background-color: rgb(204, 204, 204);&quot;&gt;Infrastructure&lt;/span&gt;&lt;/h3&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
                    <mxGeometry x="900" y="110" width="240" height="400" as="geometry"/>
                </mxCell>
                <mxCell id="24" value="Postgres&lt;div&gt;:5432&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
                    <mxGeometry x="990" y="410" width="60" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="NATS&lt;div&gt;:4222&lt;/div&gt;" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#000000;shape=mxgraph.azure.queue_generic" parent="1" vertex="1">
                    <mxGeometry x="960" y="340" width="120" height="36" as="geometry"/>
                </mxCell>
                <mxCell id="36" value="Hyperledger&lt;div&gt;blockchain&lt;/div&gt;&lt;div&gt;:7051&lt;/div&gt;" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;fontColor=#4277BB;labelBackgroundColor=default;fontSize=12;spacingTop=3;image=img/lib/ibm/blockchain/blockchain.svg;imageBackground=none;" parent="1" vertex="1">
                    <mxGeometry x="990" y="240" width="60" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="Monitoring&lt;div&gt;Grafana :3000&lt;/div&gt;&lt;div&gt;Prometheus :9090&lt;/div&gt;" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/other/Grafana.svg;" parent="1" vertex="1">
                    <mxGeometry x="986" y="147.2" width="68" height="52.800000000000004" as="geometry"/>
                </mxCell>
                <mxCell id="39" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="18" target="36" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="NATS" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="5" target="35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="NATS" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="7" target="35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="42" value="NATS" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="16" target="35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="43" value="NATS" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="18" target="35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="44" value="NATS" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="13" target="35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="45" value="NATS" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9" target="35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="46" value="NATS" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="11" target="35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="47" value="SQL" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="5" target="24" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="48" value="SQL" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="16" target="24" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="49" value="SQL" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="13" target="24" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="50" value="SQL" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="7" target="24" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="51" value="SQL" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="11" target="24" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="SQL" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="9" target="24" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="53" value="metrics" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="SWb7_aFT_cGSgDYGJpiC-3" target="37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="54" value="metrics" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="5" target="37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="55" value="metrics" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="7" target="37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="56" value="metrics" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="18" target="37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="57" value="metrics" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="16" target="37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="58" value="metrics" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="13" target="37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="59" value="metrics" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="11" target="37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="60" value="metrics" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="9" target="37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="M1MRLgOBjwQBZYDNCPR7" name="Services and Components">
        <mxGraphModel dx="359" dy="776" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="100" value="&lt;h2&gt;Clubland Services and Components&lt;/h2&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
                    <mxGeometry x="40" y="20" width="740" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="101" value="&lt;b&gt;API Gateway&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
                    <mxGeometry x="40" y="80" width="740" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="102" value="&lt;b&gt;Port:&lt;/b&gt; 8080 (GraphQL), 80/443 (HTTP/HTTPS external)&lt;div&gt;&lt;b&gt;Communication:&lt;/b&gt; GraphQL over HTTP/HTTPS, WebSocket subscriptions, gRPC to backend services&lt;/div&gt;&lt;div&gt;&lt;b&gt;Components:&lt;/b&gt; GraphQL schema stitching, Authentication middleware, Rate limiting, Load balancing, Request/response transformation, CORS &amp;amp; security headers&lt;/div&gt;&lt;div&gt;&lt;b&gt;Business Logic:&lt;/b&gt; API entry point for all client applications, Routes requests to appropriate microservices, Handles authentication and authorization, Provides unified GraphQL schema, Implements rate limiting and security policies&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
                    <mxGeometry x="50" y="110" width="720" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="103" value="&lt;b&gt;Authentication &amp;amp; Authorization Service&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
                    <mxGeometry x="40" y="210" width="740" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="104" value="&lt;b&gt;Port:&lt;/b&gt; 50051 (gRPC)&lt;div&gt;&lt;b&gt;Communication:&lt;/b&gt; gRPC with API Gateway, NATS for events, SQL to Postgres, Metrics to Prometheus&lt;/div&gt;&lt;div&gt;&lt;b&gt;Components:&lt;/b&gt; JWT token service, WebAuthn integration (Hanko), Password hashing (bcrypt), Session management, Role-based access control (RBAC), Multi-tenant isolation&lt;/div&gt;&lt;div&gt;&lt;b&gt;Business Logic:&lt;/b&gt; User authentication and registration, Token generation and validation, Multi-factor authentication (MFA), Password recovery, Biometric authentication, Role and permission management, Tenant-aware authorization, Session management and security&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
                    <mxGeometry x="50" y="240" width="720" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="105" value="&lt;b&gt;Member Service&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
                    <mxGeometry x="40" y="340" width="740" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="106" value="&lt;b&gt;Port:&lt;/b&gt; 50052 (gRPC)&lt;div&gt;&lt;b&gt;Communication:&lt;/b&gt; gRPC with API Gateway, NATS for events, SQL to Postgres, Metrics to Prometheus&lt;/div&gt;&lt;div&gt;&lt;b&gt;Components:&lt;/b&gt; Member registry, Profile management, Membership lifecycle, Verification service, Contact management, Preferences service&lt;/div&gt;&lt;div&gt;&lt;b&gt;Business Logic:&lt;/b&gt; Member registration and onboarding, Profile creation and updates, Membership type management (Regular, Premium, Honorary), Member status tracking (Active, Suspended, Expired), Verification and approval workflows, Contact information management, Member preferences and settings, Member search and filtering, 25+ operational metrics tracking&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
                    <mxGeometry x="50" y="370" width="720" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="107" value="&lt;b&gt;Blockchain Service&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
                    <mxGeometry x="40" y="470" width="740" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="108" value="&lt;b&gt;Port:&lt;/b&gt; 50053 (gRPC)&lt;div&gt;&lt;b&gt;Communication:&lt;/b&gt; gRPC with API Gateway, NATS for events, Hyperledger Fabric SDK (port 7051), Metrics to Prometheus&lt;/div&gt;&lt;div&gt;&lt;b&gt;Components:&lt;/b&gt; Fabric SDK integration, Smart contract interface, Transaction manager, Ledger query service, Identity management&lt;/div&gt;&lt;div&gt;&lt;b&gt;Business Logic:&lt;/b&gt; Immutable audit trail for critical operations, Cross-club transaction recording, Visit verification on blockchain, Reciprocal agreement management, Smart contract execution, Blockchain identity management, Transaction history queries, Consensus and validation, Private data collections for sensitive information&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
                    <mxGeometry x="50" y="500" width="720" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="109" value="&lt;b&gt;Governance Service&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
                    <mxGeometry x="40" y="600" width="740" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="110" value="&lt;b&gt;Port:&lt;/b&gt; 50054 (gRPC)&lt;div&gt;&lt;b&gt;Communication:&lt;/b&gt; gRPC with API Gateway, NATS for events, SQL to Postgres, Metrics to Prometheus&lt;/div&gt;&lt;div&gt;&lt;b&gt;Components:&lt;/b&gt; Voting engine, Proposal management, Agreement service, Policy enforcement, Compliance checker&lt;/div&gt;&lt;div&gt;&lt;b&gt;Business Logic:&lt;/b&gt; Network governance and voting, Proposal creation and management, Reciprocal agreement negotiation, Policy definition and enforcement, Compliance monitoring, Voting mechanisms and quorum tracking, Agreement lifecycle management, Cross-club governance coordination&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
                    <mxGeometry x="50" y="630" width="720" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="111" value="&lt;b&gt;Notification Service&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
                    <mxGeometry x="40" y="730" width="740" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="112" value="&lt;b&gt;Port:&lt;/b&gt; 50055 (gRPC)&lt;div&gt;&lt;b&gt;Communication:&lt;/b&gt; gRPC with API Gateway, NATS for events, SQL to Postgres, SMTP/SMS gateways, Metrics to Prometheus&lt;/div&gt;&lt;div&gt;&lt;b&gt;Components:&lt;/b&gt; Email service (SMTP), SMS service, Push notification service, Template engine, Delivery queue, Preference manager&lt;/div&gt;&lt;div&gt;&lt;b&gt;Business Logic:&lt;/b&gt; Multi-channel notification delivery (email, SMS, push), Template management and rendering, Notification scheduling and queuing, Delivery status tracking, User notification preferences, Event-driven notification triggers (member.created, visit.recorded), Retry logic for failed deliveries, Notification history and audit trail&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
                    <mxGeometry x="50" y="760" width="720" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="113" value="&lt;b&gt;Analytics Service&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
                    <mxGeometry x="40" y="860" width="740" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="114" value="&lt;b&gt;Port:&lt;/b&gt; 50056 (gRPC)&lt;div&gt;&lt;b&gt;Communication:&lt;/b&gt; gRPC with API Gateway, NATS for events, SQL to Postgres, Time-series DB, S3 for exports, Metrics to Prometheus&lt;/div&gt;&lt;div&gt;&lt;b&gt;Components:&lt;/b&gt; Metrics aggregator, Report generator, Data export service, Time-series analyzer, Dashboard service, External integrations&lt;/div&gt;&lt;div&gt;&lt;b&gt;Business Logic:&lt;/b&gt; Usage analytics and metrics collection, Member activity tracking, Visit patterns analysis, Booking statistics, Revenue and financial reporting, Custom report generation, Data export (CSV, Excel, PDF), Real-time dashboard data, External system integration, Predictive analytics (planned), S3 integration for report storage&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
                    <mxGeometry x="50" y="890" width="720" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="115" value="&lt;b&gt;Booking Service&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
                    <mxGeometry x="40" y="990" width="740" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="116" value="&lt;b&gt;Port:&lt;/b&gt; 50057 (gRPC)&lt;div&gt;&lt;b&gt;Communication:&lt;/b&gt; gRPC with API Gateway, NATS for events, SQL to Postgres, Metrics to Prometheus&lt;/div&gt;&lt;div&gt;&lt;b&gt;Components:&lt;/b&gt; Reservation manager, Availability checker, Calendar service, Conflict resolver, Cancellation handler, Resource manager&lt;/div&gt;&lt;div&gt;&lt;b&gt;Business Logic:&lt;/b&gt; Facility and resource booking, Availability management and calendar, Reservation creation and modifications, Booking confirmation and notifications, Cancellation and refund handling, Conflict detection and resolution, Waitlist management, Capacity tracking, Multi-club booking coordination, Booking history and reporting&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
                    <mxGeometry x="50" y="1020" width="720" height="80" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>